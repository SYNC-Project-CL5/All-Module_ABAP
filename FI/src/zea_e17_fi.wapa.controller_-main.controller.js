sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,e,r,n,a){"use strict";return t.extend("sync.e17.inventory4.controller.Main",{onInit:function(){+
var t=this.getOwnerComponent();var e=t.getRouter();e.getRoute("RouteMain").attachPatternMatched(this._onRoutePatternMatched,this)},_onRoutePatternMatched:function(t){var e=t.getParameter("arguments");this.onSearch(e.plant)},onSearch:function(t){this.filt+
erTable("inventoryTable","Plantfr",t);this.filterTable("plantInventTable","Werks",t)},filterTable:function(t,e,r){var i=this.byId(t);var o=i.getBinding("rows");var s=[];if(r){s.push(new n(e,a.EQ,r))}o.filter(s)},onApprove:function(){this.updateStatus("A"+
)},onReject:function(){this.updateStatus("R")},updateStatus:function(t){var r=this.byId("inventoryTable");var n=r.getSelectedIndices();if(n.length===0){e.show("라인을 선택하세요.");return}var a=this.getView().getModel();for(var i=0;i<n.length;i++){var o=r.getCon+
textByIndex(n[i]).getPath();var s=a.getProperty(o);if(s.Status&&s.Status!==""){e.show("이미 결재된 건입니다.");continue}var u={Status:t};a.update(o,u,{success:function(){e.show("Status가 업데이트되었습니다.")},error:function(){e.show("결재가 성공적으로 이루어졌습니다.")}})}},onRefresh:fu+
nction(){var t=this.getView().getModel();t.refresh()},onMaterialLinkPress:function(t){var e=t.getSource().getText();this.showProductDetails(e)},showProductDetails:function(t){var e=this.byId("productNameText");var r=this.byId("productImage");var n=this.g+
etProductInfo(t);e.setText(n.name);r.setSrc(n.image);this.byId("productDetails").setVisible(true)},getProductInfo:function(t){var e={name:"가솔린 타이어 18인치 제품",image:"https://www.tstation.com/upload/goods/500/80%2F2023%2F1120%2FK12901ko.png",batchNumber:"123+
45",price:"10203.40원"};return e},formatStockStatusText:function(t){if(t>=5){return"여유"}else if(t>0&&t<=3){return"부족"}else{return"경고"}},formatStockStatusState:function(t){if(t>=5){return"Success"}else if(t>0&&t<=3){return"Warning"}else{return"Error"}},for+
matStockStatusIcon:function(t){if(t>=5){return"sap-icon://status-positive"}else if(t>0&&t<=3){return"sap-icon://status-critical"}else{return"sap-icon://status-negative"}},formatStockStatusIconColor:function(t){if(t>=5){return"Positive"}else if(t>0&&t<=3)+
{return"Critical"}else{return"Negative"}},onProductSelectChange:function(t){var e=t.getParameter("selectedItem").getKey();var r=[];if(e==="P2"){r.push(new n("Status",a.EQ,"R"))}else if(e==="P3"){r.push(new n("Status",a.EQ,"A"))}var i=this.byId("inventory+
Table");var o=i.getBinding("rows");if(e==="P1"){o.filter([])}else{o.filter(r)}}})});                                                                                                                                                                           
//# sourceMappingURL=Main.controller.js.map                                                                                                                                                                                                                    